server {
    listen 80;
    server_name your-domain.com;  # Replace with your domain
    
    # Security headers
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header X-XSS-Protection "1; mode=block" always;
    
    # Rate limiting
    limit_req_zone $binary_remote_addr zone=traits:10m rate=10r/s;
    
    # Serve trait images
    location /traits/ {
        limit_req zone=traits burst=20 nodelay;
        
        # Basic access control - you can enhance this
        # allow 192.168.1.0/24;  # Allow local network
        # deny all;              # Deny others
        
        alias /path/to/your/traits/;  # Replace with actual path
        
        # Cache images for 1 hour
        expires 1h;
        add_header Cache-Control "public, immutable";
        
        # Only allow GET requests
        limit_except GET {
            deny all;
        }
        
        # Log access
        access_log /var/log/nginx/traits_access.log;
    }
    
    # Optional: Add authentication
    # location /traits/ {
    #     auth_basic "Restricted Access";
    #     auth_basic_user_file /etc/nginx/.htpasswd;
    #     alias /path/to/your/traits/;
    # }
}
